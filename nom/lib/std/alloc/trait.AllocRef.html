<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `AllocRef` trait in crate `nom`."><meta name="keywords" content="rust, rustlang, rust-lang, AllocRef"><title>nom::lib::std::alloc::AllocRef - Rust</title><link rel="stylesheet" type="text/css" href="../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../dark.css"><link rel="stylesheet" type="text/css" href="../../../../light.css" id="themeStyle"><script src="../../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../../noscript.css"></noscript><link rel="shortcut icon" href="../../../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../../nom/index.html'><div class='logo-container'><img src='../../../../rust-logo.png' alt='logo'></div></a><p class='location'>Trait AllocRef</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.alloc">alloc</a><a href="#tymethod.dealloc">dealloc</a></div><a class="sidebar-title" href="#provided-methods">Provided Methods</a><div class="sidebar-links"><a href="#method.by_ref">by_ref</a><a href="#method.grow">grow</a><a href="#method.shrink">shrink</a></div><a class="sidebar-title" href="#foreign-impls">Implementations on Foreign Types</a><div class="sidebar-links"><a href="#impl-AllocRef-for-%26%27_%20mut%20A">&amp;&#39;_ mut A</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='../../../index.html'>nom</a>::<wbr><a href='../../index.html'>lib</a>::<wbr><a href='../index.html'>std</a>::<wbr><a href='index.html'>alloc</a></p><script>window.sidebarCurrent = {name: 'AllocRef', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"></div><a id="settings-menu" href="../../../../settings.html"><img src="../../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span class='since' title='Stable since Rust version '></span><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/alloc/mod.rs.html#170-375' title='goto source code'>[src]</a></span><span class='in-band'>Trait <a href='../../../index.html'>nom</a>::<wbr><a href='../../index.html'>lib</a>::<wbr><a href='../index.html'>std</a>::<wbr><a href='index.html'>alloc</a>::<wbr><a class="trait" href=''>AllocRef</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust trait'>pub unsafe trait AllocRef {
    fn <a href='#tymethod.alloc' class='fnname'>alloc</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;;
<div class='item-spacer'></div>    unsafe fn <a href='#tymethod.dealloc' class='fnname'>dealloc</a>(&amp;mut self, ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>);

    unsafe fn <a href='#method.grow' class='fnname'>grow</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt; { ... }
<div class='item-spacer'></div>    unsafe fn <a href='#method.shrink' class='fnname'>shrink</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt; { ... }
<div class='item-spacer'></div>    fn <a href='#method.by_ref' class='fnname'>by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self { ... }
}</pre></div><div class='stability'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><div class='docblock'><p>An implementation of <code>AllocRef</code> can allocate, grow, shrink, and deallocate arbitrary blocks of
data described via [<code>Layout</code>][].</p>
<p><code>AllocRef</code> is designed to be implemented on ZSTs, references, or smart pointers because having
an allocator like <code>MyAlloc([u8; N])</code> cannot be moved, without updating the pointers to the
allocated memory.</p>
<p>Unlike [<code>GlobalAlloc</code>][], zero-sized allocations are allowed in <code>AllocRef</code>. If an underlying
allocator does not support this (like jemalloc) or return a null pointer (such as
<code>libc::malloc</code>), this must be caught by the implementation.</p>
<h3 id="currently-allocated-memory" class="section-header"><a href="#currently-allocated-memory">Currently allocated memory</a></h3>
<p>Some of the methods require that a memory block be <em>currently allocated</em> via an allocator. This
means that:</p>
<ul>
<li>
<p>the starting address for that memory block was previously returned by <a href="AllocRef::alloc"><code>alloc</code></a>, <a href="AllocRef::grow"><code>grow</code></a>, or
<a href="AllocRef::shrink"><code>shrink</code></a>, and</p>
</li>
<li>
<p>the memory block has not been subsequently deallocated, where blocks are either deallocated
directly by being passed to <a href="AllocRef::dealloc"><code>dealloc</code></a> or were changed by being passed to <a href="AllocRef::grow"><code>grow</code></a> or
<a href="AllocRef::shrink"><code>shrink</code></a> that returns <code>Ok</code>. If <code>grow</code> or <code>shrink</code> have returned <code>Err</code>, the passed pointer
remains valid.</p>
</li>
</ul>
<h3 id="memory-fitting" class="section-header"><a href="#memory-fitting">Memory fitting</a></h3>
<p>Some of the methods require that a layout <em>fit</em> a memory block. What it means for a layout to
&quot;fit&quot; a memory block means (or equivalently, for a memory block to &quot;fit&quot; a layout) is that the
following conditions must hold:</p>
<ul>
<li>
<p>The block must be allocated with the same alignment as <a href="Layout::align"><code>layout.align()</code></a>, and</p>
</li>
<li>
<p>The provided <a href="Layout::size"><code>layout.size()</code></a> must fall in the range <code>min ..= max</code>, where:</p>
<ul>
<li><code>min</code> is the size of the layout most recently used to allocate the block, and</li>
<li><code>max</code> is the latest actual size returned from <a href="AllocRef::alloc"><code>alloc</code></a>, <a href="AllocRef::grow"><code>grow</code></a>, or <a href="AllocRef::shrink"><code>shrink</code></a>.</li>
</ul>
</li>
</ul>
<h1 id="safety" class="section-header"><a href="#safety">Safety</a></h1>
<ul>
<li>
<p>Memory blocks returned from an allocator must point to valid memory and retain their validity
until the instance and all of its clones are dropped,</p>
</li>
<li>
<p>cloning or moving the allocator must not invalidate memory blocks returned from this
allocator. A cloned allocator must behave like the same allocator, and</p>
</li>
<li>
<p>any pointer to a memory block which is <a href="#currently-allocated-memory"><em>currently allocated</em></a> may be passed to any other
method of the allocator.</p>
</li>
</ul>
</div>
            <h2 id='required-methods' class='small-section-header'>Required methods<a href='#required-methods' class='anchor'></a></h2><div class='methods'><h3 id='tymethod.alloc' class='method'><code id='alloc.v'>fn <a href='#tymethod.alloc' class='fnname'>alloc</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code></h3><div class='stability'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><div class='docblock'><p>Attempts to allocate a block of memory.</p>
<p>On success, returns a [<code>MemoryBlock</code>][] meeting the size and alignment guarantees of <code>layout</code>.</p>
<p>The returned block may have a larger size than specified by <code>layout.size()</code> and is
initialized as specified by <a href="AllocInit"><code>init</code></a>, all the way up to the returned size of the block.</p>
<h1 id="errors" class="section-header"><a href="#errors">Errors</a></h1>
<p>Returning <code>Err</code> indicates that either memory is exhausted or <code>layout</code> does not meet
allocator's size or alignment constraints.</p>
<p>Implementations are encouraged to return <code>Err</code> on memory exhaustion rather than panicking or
aborting, but this is not a strict requirement. (Specifically: it is <em>legal</em> to implement
this trait atop an underlying native allocation library that aborts on memory exhaustion.)</p>
<p>Clients wishing to abort computation in response to an allocation error are encouraged to
call the <a href="../../alloc/alloc/fn.handle_alloc_error.html"><code>handle_alloc_error</code></a> function, rather than directly invoking <code>panic!</code> or similar.</p>
</div><h3 id='tymethod.dealloc' class='method'><code id='dealloc.v'>unsafe fn <a href='#tymethod.dealloc' class='fnname'>dealloc</a>(&amp;mut self, ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>)</code></h3><div class='stability'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><div class='docblock'><p>Deallocates the memory referenced by <code>ptr</code>.</p>
<h1 id="safety-1" class="section-header"><a href="#safety-1">Safety</a></h1>
<ul>
<li><code>ptr</code> must denote a block of memory <a href="#currently-allocated-memory"><em>currently allocated</em></a> via this allocator, and</li>
<li><code>layout</code> must <a href="#memory-fitting"><em>fit</em></a> that block of memory.</li>
</ul>
</div></div><span class='loading-content'>Loading content...</span>
            <h2 id='provided-methods' class='small-section-header'>Provided methods<a href='#provided-methods' class='anchor'></a></h2><div class='methods'><h3 id='method.grow' class='method'><code id='grow.v'>unsafe fn <a href='#method.grow' class='fnname'>grow</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code></h3><div class='stability'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><div class='docblock'><p>Attempts to extend the memory block.</p>
<p>Returns a new [<code>MemoryBlock</code>][] containing a pointer and the actual size of the allocated
memory. The pointer is suitable for holding data described by a new layout with <code>layout</code>â€™s
alignment and a size given by <code>new_size</code>. To accomplish this, the allocator may extend the
allocation referenced by <code>ptr</code> to fit the new layout. If the <a href="ReallocPlacement"><code>placement</code></a> is
<a href="ReallocPlacement::InPlace"><code>InPlace</code></a>, the returned pointer is guaranteed to be the same as the passed <code>ptr</code>.</p>
<p>If <a href="ReallocPlacement::MayMove"><code>MayMove</code></a> is used then ownership of the memory block referenced by <code>ptr</code>
is transferred to this allocator. The memory may or may not be freed, and should be
considered unusable (unless of course it is transferred back to the caller again via the
return value of this method).</p>
<p>If this method returns <code>Err</code>, then ownership of the memory block has not been transferred to
this allocator, and the contents of the memory block are unaltered.</p>
<p>The memory block will contain the following contents after a successful call to <code>grow</code>:</p>
<ul>
<li>Bytes <code>0..layout.size()</code> are preserved from the original allocation.</li>
<li>Bytes <code>layout.size()..old_size</code> will either be preserved or initialized according to
<a href="AllocInit"><code>init</code></a>, depending on the allocator implementation. <code>old_size</code> refers to the size of
the <code>MemoryBlock</code> prior to the <code>grow</code> call, which may be larger than the size
that was originally requested when it was allocated.</li>
<li>Bytes <code>old_size..new_size</code> are initialized according to <a href="AllocInit"><code>init</code></a>. <code>new_size</code> refers to
the size of the <code>MemoryBlock</code> returned by the <code>grow</code> call.</li>
</ul>
<h1 id="safety-2" class="section-header"><a href="#safety-2">Safety</a></h1>
<ul>
<li><code>ptr</code> must denote a block of memory <a href="#currently-allocated-memory"><em>currently allocated</em></a> via this allocator,</li>
<li><code>layout</code> must <a href="#memory-fitting"><em>fit</em></a> that block of memory (The <code>new_size</code> argument need not fit it.),</li>
<li><code>new_size</code> must be greater than or equal to <code>layout.size()</code>, and</li>
<li><code>new_size</code>, when rounded up to the nearest multiple of <code>layout.align()</code>, must not overflow
(i.e., the rounded value must be less than or equal to <code>usize::MAX</code>).</li>
</ul>
<h1 id="errors-1" class="section-header"><a href="#errors-1">Errors</a></h1>
<p>Returns <code>Err</code> if the new layout does not meet the allocator's size and alignment
constraints of the allocator, or if growing otherwise fails.</p>
<p>Implementations are encouraged to return <code>Err</code> on memory exhaustion rather than panicking or
aborting, but this is not a strict requirement. (Specifically: it is <em>legal</em> to implement
this trait atop an underlying native allocation library that aborts on memory exhaustion.)</p>
<p>Clients wishing to abort computation in response to an allocation error are encouraged to
call the <a href="../../alloc/alloc/fn.handle_alloc_error.html"><code>handle_alloc_error</code></a> function, rather than directly invoking <code>panic!</code> or similar.</p>
</div><h3 id='method.shrink' class='method'><code id='shrink.v'>unsafe fn <a href='#method.shrink' class='fnname'>shrink</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code></h3><div class='stability'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><div class='docblock'><p>Attempts to shrink the memory block.</p>
<p>Returns a new [<code>MemoryBlock</code>][] containing a pointer and the actual size of the allocated
memory. The pointer is suitable for holding data described by a new layout with <code>layout</code>â€™s
alignment and a size given by <code>new_size</code>. To accomplish this, the allocator may shrink the
allocation referenced by <code>ptr</code> to fit the new layout. If the <a href="ReallocPlacement"><code>placement</code></a> is
<a href="ReallocPlacement::InPlace"><code>InPlace</code></a>, the returned pointer is guaranteed to be the same as the passed <code>ptr</code>.</p>
<p>If this returns <code>Ok</code>, then ownership of the memory block referenced by <code>ptr</code> has been
transferred to this allocator. The memory may or may not have been freed, and should be
considered unusable unless it was transferred back to the caller again via the
return value of this method.</p>
<p>If this method returns <code>Err</code>, then ownership of the memory block has not been transferred to
this allocator, and the contents of the memory block are unaltered.</p>
<p>The behavior of how the allocator tries to shrink the memory is specified by <a href="ReallocPlacement"><code>placement</code></a>.</p>
<h1 id="safety-3" class="section-header"><a href="#safety-3">Safety</a></h1>
<ul>
<li><code>ptr</code> must denote a block of memory <a href="#currently-allocated-memory"><em>currently allocated</em></a> via this allocator,</li>
<li><code>layout</code> must <a href="#memory-fitting"><em>fit</em></a> that block of memory (The <code>new_size</code> argument need not fit it.), and</li>
<li><code>new_size</code> must be smaller than or equal to <code>layout.size()</code>.</li>
</ul>
<h1 id="errors-2" class="section-header"><a href="#errors-2">Errors</a></h1>
<p>Returns <code>Err</code> if the new layout does not meet the allocator's size and alignment
constraints of the allocator, or if shrinking otherwise fails.</p>
<p>Implementations are encouraged to return <code>Err</code> on memory exhaustion rather than panicking or
aborting, but this is not a strict requirement. (Specifically: it is <em>legal</em> to implement
this trait atop an underlying native allocation library that aborts on memory exhaustion.)</p>
<p>Clients wishing to abort computation in response to an allocation error are encouraged to
call the <a href="../../alloc/alloc/fn.handle_alloc_error.html"><code>handle_alloc_error</code></a> function, rather than directly invoking <code>panic!</code> or similar.</p>
</div><h3 id='method.by_ref' class='method'><code id='by_ref.v'>fn <a href='#method.by_ref' class='fnname'>by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></h3><div class='stability'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><div class='docblock'><p>Creates a &quot;by reference&quot; adaptor for this instance of <code>AllocRef</code>.</p>
<p>The returned adaptor also implements <code>AllocRef</code> and will simply borrow this.</p>
</div></div><span class='loading-content'>Loading content...</span>
            <h2 id='foreign-impls' class='small-section-header'>Implementations on Foreign Types<a href='#foreign-impls' class='anchor'></a></h2><h3 id='impl-AllocRef-for-%26%27_%20mut%20A' class='impl'><code class='in-band'>impl&lt;'_, A&gt; <a class="trait" href="../../../../nom/lib/std/alloc/trait.AllocRef.html" title="trait nom::lib::std::alloc::AllocRef">AllocRef</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'_ mut </a>A <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="../../../../nom/lib/std/alloc/trait.AllocRef.html" title="trait nom::lib::std::alloc::AllocRef">AllocRef</a> + ?<a class="trait" href="../../../../nom/lib/std/prelude/v1/v1/trait.Sized.html" title="trait nom::lib::std::prelude::v1::v1::Sized">Sized</a>,&nbsp;</span></code><a href='#impl-AllocRef-for-%26%27_%20mut%20A' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/alloc/mod.rs.html#378-414' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.alloc' class="method hidden"><code id='alloc.v-1'>fn <a href='#method.alloc' class='fnname'>alloc</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/alloc/mod.rs.html#383-385' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.dealloc' class="method hidden"><code id='dealloc.v-1'>unsafe fn <a href='#method.dealloc' class='fnname'>dealloc</a>(&amp;mut self, ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>)</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/alloc/mod.rs.html#388-390' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.grow-1' class="method hidden"><code id='grow.v-1'>unsafe fn <a href='#method.grow' class='fnname'>grow</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/alloc/mod.rs.html#393-402' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.shrink-1' class="method hidden"><code id='shrink.v-1'>unsafe fn <a href='#method.shrink' class='fnname'>shrink</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/alloc/mod.rs.html#405-413' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div></div><span class='loading-content'>Loading content...</span>
            <h2 id='implementors' class='small-section-header'>Implementors<a href='#implementors' class='anchor'></a></h2><div class='item-list' id='implementors-list'><h3 id='impl-AllocRef' class='impl'><code class='in-band'>impl AllocRef for <a class="struct" href="../../../../nom/lib/std/alloc/struct.Global.html" title="struct nom::lib::std::alloc::Global">Global</a></code><a href='#impl-AllocRef' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/alloc/alloc.rs.html#165-259' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.alloc-1' class="method hidden"><code id='alloc.v-2'>fn <a href='#method.alloc-1' class='fnname'>alloc</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/alloc/alloc.rs.html#167-181' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.dealloc-1' class="method hidden"><code id='dealloc.v-2'>unsafe fn <a href='#method.dealloc-1' class='fnname'>dealloc</a>(&amp;mut self, ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>)</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/alloc/alloc.rs.html#184-188' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.grow-2' class="method hidden"><code id='grow.v-2'>unsafe fn <a href='#method.grow-2' class='fnname'>grow</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/alloc/alloc.rs.html#191-225' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.shrink-2' class="method hidden"><code id='shrink.v-2'>unsafe fn <a href='#method.shrink-2' class='fnname'>shrink</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/alloc/alloc.rs.html#228-258' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div></div><h3 id='impl-AllocRef-1' class='impl'><code class='in-band'>impl AllocRef for <a class="struct" href="../../../../nom/lib/std/alloc/struct.System.html" title="struct nom::lib::std::alloc::System">System</a></code><a href='#impl-AllocRef-1' class='anchor'></a><a class='srclink' href='https://doc.rust-lang.org/nightly/src/std/alloc.rs.html#140-234' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.alloc-2' class="method hidden"><code id='alloc.v-3'>fn <a href='#method.alloc-2' class='fnname'>alloc</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/std/alloc.rs.html#142-156' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.dealloc-2' class="method hidden"><code id='dealloc.v-3'>unsafe fn <a href='#method.dealloc-2' class='fnname'>dealloc</a>(&amp;mut self, ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>)</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/std/alloc.rs.html#159-163' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.grow-3' class="method hidden"><code id='grow.v-3'>unsafe fn <a href='#method.grow-3' class='fnname'>grow</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;init: <a class="enum" href="../../../../nom/lib/std/alloc/enum.AllocInit.html" title="enum nom::lib::std::alloc::AllocInit">AllocInit</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/std/alloc.rs.html#166-200' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div><h4 id='method.shrink-3' class="method hidden"><code id='shrink.v-3'>unsafe fn <a href='#method.shrink-3' class='fnname'>shrink</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;ptr: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ptr/non_null/struct.NonNull.html" title="struct core::ptr::non_null::NonNull">NonNull</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;layout: <a class="struct" href="../../../../nom/lib/std/alloc/struct.Layout.html" title="struct nom::lib::std::alloc::Layout">Layout</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;placement: <a class="enum" href="../../../../nom/lib/std/alloc/enum.ReallocPlacement.html" title="enum nom::lib::std::alloc::ReallocPlacement">ReallocPlacement</a><br>) -&gt; <a class="enum" href="../../../../nom/lib/std/prelude/v1/v1/enum.Result.html" title="enum nom::lib::std::prelude::v1::v1::Result">Result</a>&lt;<a class="struct" href="../../../../nom/lib/std/alloc/struct.MemoryBlock.html" title="struct nom::lib::std::alloc::MemoryBlock">MemoryBlock</a>, <a class="struct" href="../../../../nom/lib/std/alloc/struct.AllocErr.html" title="struct nom::lib::std::alloc::AllocErr">AllocErr</a>&gt;</code><a class='srclink' href='https://doc.rust-lang.org/nightly/src/std/alloc.rs.html#203-233' title='goto source code'>[src]</a></h4><div class='stability hidden'><div class='stab unstable'><span class='emoji'>ðŸ”¬</span> This is a nightly-only experimental API. (<code>allocator_api</code>)</div></div></div></div><span class='loading-content'>Loading content...</span><script type="text/javascript" src="../../../../implementors/core/alloc/trait.AllocRef.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../../";window.currentCrate = "nom";</script><script src="../../../../aliases.js"></script><script src="../../../../main.js"></script><script defer src="../../../../search-index.js"></script></body></html>